<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Front-end</title>
</head>
<body>
<h1>Front-end</h1>


<button id="create_blogger">create</button>
<input id="create_name" placeholder="name"/>
<input id="create_youtubeUrl" placeholder="youtubeUrl"/>
<hr>
<button id="read_bloggers">read bloggers</button>
<input id="search_name" placeholder="name"/>
<input id="page" placeholder="page"/>
<input id="page_size" placeholder="page size"/>
<hr>
<button id="find_blogger">find</button>
<input id="find_id" placeholder="id"/>
<hr>
<button id="update_blogger">update</button>
<input id="update_id" placeholder="id"/>
<input id="update_name" placeholder="name"/>
<input id="update_youtubeUrl" placeholder="youtubeUrl"/>
<hr>
<button id="delete_blogger">delete</button>
<input id="delete_id" placeholder="id"/>
<hr>


<div id="result"></div>

<script>
    read_bloggers.onclick = () => {
        fetch('http://localhost:5000/bloggers?SearchNameTerm=' + search_name.value
            + '&PageNumber=' + page.value
            + '&PageSize=' + page_size.value
        )
            .then(res => res.json())
            .then(data => result.innerHTML = JSON.stringify(data) || 'ok')
    }
    find_blogger.onclick = () => {
        fetch('http://localhost:5000/bloggers/' + find_id.value)
            .then(res => res.json())
            .then(data => result.innerHTML = JSON.stringify(data) || 'ok')
    }
    create_blogger.onclick = () => {
        fetch('http://localhost:5000/bloggers', {
            method: 'POST',
            body: JSON.stringify({name: create_name.value, youtubeUrl: create_youtubeUrl.value}),
            headers: {
                'Content-Type': 'application/json',
                authorization: 'Basic YWRtaW46cXdlcnR5'
            },
        })
            .then(res => res.json())
            .then(data => result.innerHTML = JSON.stringify(data) || 'ok')
    }
    delete_blogger.onclick = () => {
        fetch('http://localhost:5000/bloggers/' + delete_id.value, {
            method: 'DELETE',
            headers: {
                'Content-Type': 'application/json',
                authorization: 'Basic YWRtaW46cXdlcnR5'
            },
        })
            .then(res => res.json())
            .then(data => result.innerHTML = JSON.stringify(data) || 'ok')
    }
    update_blogger.onclick = () => {
        fetch('http://localhost:5000/bloggers/' + update_id.value, {
            method: 'PUT',
            body: JSON.stringify({
                id: update_id.value,
                name: update_name.value,
                youtubeUrl: update_youtubeUrl.value,
            }),
            headers: {
                'Content-Type': 'application/json',
                authorization: 'Basic YWRtaW46cXdlcnR5'
            },
        })
            .then(res => res.json())
            .then(data => result.innerHTML = JSON.stringify(data) || 'ok')
    }
</script>
</body>
</html>